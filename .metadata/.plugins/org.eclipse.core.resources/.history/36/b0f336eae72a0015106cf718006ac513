package stacksAndQueues;

import static org.junit.Assert.*;

import java.util.Date;
import java.util.NoSuchElementException;

import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;

public class Problem6LinkedStackUnitTests {
	@Test
    public void testPushPopElement() {
		Problem5LinkedStack<Integer> myUnit = new Problem5LinkedStack<Integer>();
		assertEquals(0, myUnit.count());
		myUnit.push(5);
		assertEquals(1, myUnit.count());
		int popedElement = myUnit.pop();
		assertEquals(popedElement, 5);
		assertEquals(0, myUnit.count());
    }
	
	@Test
    public void testPushPop1000Elements() {
		Problem5LinkedStack<String> myUnit = new Problem5LinkedStack<String>();
		assertEquals(0, myUnit.count());
		for (int i = 1; i <= 1000; i++) {
			myUnit.push("patka" + i);
			assertEquals(i, myUnit.count());
		}
		String popedElement;
		for (int i = 1000; i >= 1; i--) {
			popedElement = myUnit.pop();
			assertEquals(popedElement, "patka" + i);
			assertEquals(i-1, myUnit.count());
		}
	}
	
	@Rule public ExpectedException thrown= ExpectedException.none();
	@Test
	public void testPopFromEmptyStack() {
		Problem5LinkedStack<String> myUnit = new Problem5LinkedStack<String>();		
		
		thrown.expect( NoSuchElementException.class );
		thrown.expectMessage("Stack is empty");
		myUnit.pop();
	}
		
	@Test
	public void testToArray() {
		Problem5LinkedStack<Integer> myUnit = new Problem5LinkedStack<Integer>();		
		myUnit.push(3);
		myUnit.push(5);
		myUnit.push(-2);
		myUnit.push(7);
	    Object[] array =  myUnit.toArray();
		assertEquals(7, array[3]);
		assertEquals(-2, array[2]);
		assertEquals(5, array[1]);
		assertEquals(3, array[0]);
	}
	
	@Test
	public void testEmptyStackToArray() {
		Problem5LinkedStack<Date> myUnit = new Problem5LinkedStack<Date>();		
		Date[] array =  myUnit.toArray();
		assertArrayEquals( null, array);
	}
}
