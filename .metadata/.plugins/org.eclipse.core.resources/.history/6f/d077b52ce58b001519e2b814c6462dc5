package all;

public class Problem3ArithmeticExpression {
	
	public static void main(String[] args) {
        try {
            String expression = readExpression();

            int[] numbers = ExtractNumbers(expression);
            char[] operators = ExtractOperators(expression);

            //use a struct to easily pass and return the expression to and from functions
            ParsedExpression parsedExp;
            parsedExp.numbers = numbers;
            parsedExp.operators = operators;

            //calculate all the multiplications and divisions. The function will return ParsedExpression only with
            //pluses and minuses. Will throw exception if there is division by 0.
            parsedExp = CalculateMultiplicationAndDivisionFirst(parsedExp);

            int result = CalculateExpressionWithPlusesAndMinusesOnly(parsedExp);
            Console.WriteLine("{0} = {1}", expression, result);
        }
        //specify exception we should catch
        catch (FormatException ex)
        {
            Console.WriteLine("Invalid expression!");
        }
        //be prepared if we get to divide by 0
        catch (DivideByZeroException)
        {
            Console.WriteLine("Division by zero.");
        }
    }

	private static String readExpression() {
		System.out.println("Enter expression:");
        String expression = Console.ReadLine();
        return expression;

	}
	
}
