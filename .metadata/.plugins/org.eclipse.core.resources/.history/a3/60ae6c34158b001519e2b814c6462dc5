package all;

import java.io.File;
import java.util.*;

public class Problem5MainRealEstate {

	public static void main(String[] args) {
		// Crate a list of every  kind of items
        List<Problem5Apartment> apartments = new ArrayList<Problem5Apartment>();
        List<Problem5House> houses = new ArrayList<Problem5House>();
        List<Problem5Estate> shops = new ArrayList<Problem5Estate>();
        List<Problem5Employee> employees = new ArrayList<Problem5Employee>();

        Scanner reader = null;
		try {
			reader = new Scanner(new File("EstateDoc.txt"), "windows-1251");
			String line = "";
			
            while (true) {
                line = reader.nextLine();
                if (line.equals("!")) {
                    break;
                }

                String[] elements = line.split("-");
                apartments.add(new Problem5Apartment(
                    Double.parseDouble(elements[0]), Double.parseDouble(elements[1]), 
                    elements[2], Integer.parseInt(elements[3]), 
                    elements[4], elements[5]));
            }

            while (true)
            {
                line = reader.ReadLine();
                if (line == "!")
                {
                    break;
                }

                string[] elements = line.Split('-');
                houses.Add(new House(
                    double.Parse(elements[0]), double.Parse(elements[1]), 
                    elements[2],double.Parse(elements[3]),  
                    double.Parse(elements[4]), 
                    int.Parse(elements[5]), elements[6]));
            }

            while (true)
            {
                line = reader.ReadLine();
                if (line == "!")
                {
                    break;
                }

                string[] elements = line.Split('-');
                shops.Add(new Estate(double.Parse(elements[0]), 
                    double.Parse(elements[1]), elements[2]));
            }

            line = reader.ReadLine();
            string[] properties = line.Split('-');
            Company estateCompany = new Company(
                   properties[0], properties[1], properties[2]);
            while (true)
            {
                line = reader.ReadLine();
                if (line == null)
                {
                    break;
                }

                string[] emplyee = line.Split('-');
                employees.Add(new Employee(
                    emplyee[0], emplyee[1], double.Parse(emplyee[2])));
            }

            foreach (var apartment in apartments)
            {
                estateCompany.AddApartment(apartment);
            }
            foreach (var house in houses)
            {
                estateCompany.AddHouse(house);
            }
            foreach (var shop in shops)
            {
                estateCompany.AddShop(shop);
            }
            foreach (var employee in employees)
            {
                estateCompany.AddEmployee(employee);
            }

            estateCompany.ApartmentCatalogPrint();
            Console.WriteLine();
            estateCompany.HouseCatalogPring();
            Console.WriteLine();
            estateCompany.ShopCatalog();
            Console.WriteLine();
            estateCompany.EmployeesPrint();
        }

	}
}
